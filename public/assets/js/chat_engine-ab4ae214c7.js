class chatEngine{constructor(e,s){this.userID=e,this.userEmail=s,this.self=this,this.socket=io.connect("http://localhost:8000",{withCredentials:!0,extraHeaders:{"my-custom-header":"abcd"}}),this.userEmail&&this.connectionHandler(),this.socket.on("receive-message",(function(e){if(console.log("Received"),console.log(e),$(".messages-container").attr("data-contactID")==e.sender_id)$(".contact-messages").append(`\n                    <div class = "message">\n                        <div class = "receiver-message">\n                            ${e.message}\n                        </div>\n                        <div class = "col xs0 s1 m2 l3 xl3">\n\n                        </div>\n                    </div>\n                `),$(".contact-messages").scrollTop($(".contact-messages")[0].scrollHeight);else for(let s of $(".contact-item"))if(s.getAttribute("data-contactID")==e.sender_id){$($(s).children(".new-message-badge")).empty(),$($(s).children(".new-message-badge")).append('\n                            <span class="new badge"></span>\n                        ');break}new Audio("/music/ringtone.mp3").play()}))}connectionHandler(){this.socket.on("connect",(()=>{console.log("Connection established using sockets"),this.socket.emit("database-entry",{user_id:this.userID})}))}messageSenderEventEmitter(e,s){this.socket.emit("send-message",{senderID:this.userID,receiverID:e,message:s})}}